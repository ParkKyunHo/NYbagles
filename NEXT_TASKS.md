# 다음 작업 사항

## ✅ 완료된 작업 (2025년 7월 29일)

### 1. 데이터베이스 정리
- store_id NOT NULL 제약 조건 추가 완료
- 데이터 무결성 보장

### 2. 문서 스토리지 지원
- documents 테이블에 storage_path, file_size, mime_type 컬럼 추가
- 문서 만료 알림 뷰 생성
- 문서 업로드 로그 시스템 구현
- Storage bucket은 Supabase Dashboard에서 수동 생성 필요

### 3. 급여 계산 시스템 (간소화 버전)
- 시급 × 근무시간 계산 기능 구현
- 관리자가 직원별 시급 설정 가능
- 월별 급여 계산 및 조회
- 출퇴근 시간 자동 계산 트리거 추가

## 📋 다음 개발 우선순위

### Phase 1: 시스템 안정화 (1주)
1. **데이터 정합성 검증**
   - 모든 직원이 올바른 매장에 할당되었는지 확인
   - 고아 레코드 정리 (profiles 없는 employees 등)

2. **권한 시스템 검증**
   - 각 역할별 접근 권한 테스트
   - RLS 정책 검토 및 보완

3. **에러 처리 개선**
   - 더 나은 에러 메시지
   - 로딩 상태 일관성
   - 네트워크 오류 처리

### Phase 2: 필수 기능 추가 (2-3주)
1. **급여 계산 시스템**
   - 근무 시간 기반 자동 계산
   - 수당 관리 (야간, 주말, 초과근무)
   - 공제 항목 관리
   - 급여 명세서 생성 및 다운로드

2. **알림 시스템**
   - Supabase Edge Functions로 이메일 알림
   - 실시간 알림 (Supabase Realtime)
   - 알림 설정 페이지 기능 구현

3. **백업 및 복구**
   - 자동 백업 스케줄
   - 데이터 내보내기 기능
   - 복구 프로세스 문서화

### Phase 3: 고급 기능 (4-6주)
1. **경영진 대시보드**
   - 실시간 매출 현황
   - 직원 근무 현황
   - KPI 모니터링
   - 매장별 비교 분석

2. **모바일 앱**
   - PWA 최적화
   - 오프라인 지원
   - 푸시 알림
   - 또는 React Native 앱 개발

3. **인공지능 기능**
   - 매출 예측
   - 스케줄 최적화
   - 이상 패턴 감지

## 🧪 테스트 계획

### 1. 단위 테스트
- 핵심 비즈니스 로직
- 유틸리티 함수
- API 엔드포인트

### 2. 통합 테스트
- 사용자 시나리오
- 권한 시스템
- 데이터 흐름

### 3. 성능 테스트
- 로딩 시간
- 동시 사용자
- 데이터베이스 쿼리

## 📚 문서화 필요

1. **사용자 매뉴얼**
   - 직원용 가이드
   - 매니저용 가이드
   - 관리자용 가이드

2. **API 문서**
   - 엔드포인트 명세
   - 인증 방식
   - 에러 코드

3. **배포 가이드**
   - 환경 설정
   - 배포 프로세스
   - 모니터링 설정

## 🔒 보안 강화

1. **보안 감사**
   - SQL Injection 방지
   - XSS 방지
   - CSRF 방지

2. **접근 제어**
   - IP 화이트리스트
   - 2FA 구현
   - 세션 관리

3. **데이터 암호화**
   - 민감 정보 암호화
   - 통신 암호화
   - 백업 암호화

## 💡 사용자 피드백 기반 개선

1. **UI/UX 개선**
   - 사용성 테스트
   - 접근성 개선
   - 반응형 최적화

2. **기능 요청**
   - 사용자 피드백 수집
   - 우선순위 평가
   - 로드맵 업데이트

3. **성능 최적화**
   - 쿼리 최적화
   - 캐싱 전략
   - 번들 크기 최적화